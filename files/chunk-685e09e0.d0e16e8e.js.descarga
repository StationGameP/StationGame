(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-685e09e0","chunk-6aaee9ea"],{"12b9":function(t,e,s){"use strict";s("14e7")},"13cf":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dice"},[s("div",{staticClass:"top"},[s("Jackpot",{attrs:{history:t.response.history,stage:t.jackpotStage,size:t.jackpotSize}}),t.isMobile?t._e():s("div",{staticClass:"last-bets"},[s("div",{staticClass:"last-bets__inner"},t._l(t.lastBets,(function(e,i){return s("span",{key:i,class:[e.result?"in":"out"]},[t._v(t._s(e.value))])})),0)])],1),s("DiceBoard",{ref:"board",attrs:{chance:t.chance,multiplier:t.multiplier,direction:t.direction,"is-locked":t.isLocked||t.isAutoStarted,result:t.result,prediction:t.prediction,"lucky-number":t.luckyNumber,hotkeyPrediction:t.hotkeyPrediction},on:{"on-change-direction":t.changeDirection,"on-change-prediction":t.changePrediction}}),s("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.handleBetClick.apply(null,arguments)}}},[s("AmountDefault",{ref:"amount",staticClass:"amount",attrs:{max:t.max,isLocked:t.isLocked||t.isAutoStarted,updateBetAmount:t.updateBetAmount,betAmount:t.betAmount,currency:t.currency},on:{"set-amount":function(e){t.betAmount=e}}}),s("button",{ref:"btnBet",staticClass:"btn btn_blue btn_large",attrs:{disabled:!t.isAutoStarted&&t.isLocked,type:"submit"}},[t.isAuto?[t.isAutoStarted?[s("span",[s("span",[t._v(t._s(t.$t("STOP")))]),s("AutoSpiner",{attrs:{color:"#FFF"}})],1),s("span",[t._v(t._s(t.autobet.bets?t.autobet.bets:"∞")+" ")])]:[s("span",[t._v(t._s(t.$t("START")))]),s("span",[t._v(t._s(t.autobet.bets?t.autobet.bets:"∞")+" ")])]]:[s("span",[t._v(t._s(t.$t("Bet")))]),t.isMobile?t._e():s("span",[t._v(" "+t._s(t.$t("PROFIT ON WIN"))+": "),s("span",{domProps:{innerHTML:t._s(t.$currency(t.profit,"rgba(255, 255, 255, 0.75)","rgba(255, 255, 255, 0.75)"))}}),t._v(" "+t._s(t.currency)+" ")]),t.isMobile?s("span",[s("span",{domProps:{innerHTML:t._s(t.$currency(t.profit,"rgba(255, 255, 255, 0.75)","rgba(255, 255, 255, 0.75)"))}})]):t._e()]],2)],1),s("AutobetButtons")],1)},n=[],o=s("99b2"),r=s("9108"),a=s("41cf"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dice-jackpot"},[i("div",{staticClass:"numbers"},[i("div",{class:{active:t.stage>=1}},[t._v("5x")]),i("div",{class:{active:t.stage>=2}},[t._v("5x")]),i("div",{class:{active:t.stage>=3}},[t._v("5x")]),i("div",{class:{active:t.stage>=4}},[t._v("5x")]),i("div",{class:{active:t.stage>=5}},[t._v("5x")]),i("div",{class:{active:t.stage>=6}},[t._v("5x")]),i("div",{class:{active:t.stage>=7}},[t._v("5x")]),i("div",{class:{active:t.stage>=8}},[t._v("5x")])]),i("img",{staticClass:"dice-jackpot__img",attrs:{src:s("e433"),alt:""}}),i("div",{staticClass:"dice-jackpot__sum"},[t.size?i("span",[t._v(" "+t._s(t.size.toFixed(8))+" ")]):t._e(),t._v(" BTC ")]),i("button",{staticClass:"dice-jackpot__btn",on:{click:function(e){return e.preventDefault(),t.$store.commit("popups/show",{popup:"JackpotInfoPopup"})}}},[i("Icon",{attrs:{type:"icon-question"}})],1)])},u=[],l={name:"DiceJackpot",props:{stage:Number,size:[Number,String]}},d=l,h=(s("12b9"),s("2877")),m=Object(h["a"])(d,c,u,!1,null,"c7ce1110",null),p=m.exports,b=s("8328");const f=(t,e)=>{let s=0;do{s++,t=99===t?0:t+1}while(s<30||t!==e);return s};var y={name:"Dice",components:{DiceBoard:b["default"],Jackpot:p,AutoSpiner:()=>Promise.resolve().then(s.bind(null,"4a0b")),AmountDefault:()=>s.e("chunk-f93d986e").then(s.bind(null,"84bb")),AutobetButtons:()=>s.e("chunk-07db2898").then(s.bind(null,"981ce"))},mixins:[r["a"]],data:function(){return{sounds:{simpleClick:o["C"],dicePlaceBet:o["n"],diceLosing:o["m"],diceWin:o["o"]},prediction:50,hotkeyPrediction:0,luckyNumber:0,direction:0,isLocked:!1,timer:null,id:null,roll:null,jackpotStage:0,jackpotSize:0,lastBets:[],defaultDelay:1700,fastDelay:300,keymap:{Space:()=>{this.$refs.btnBet.click()},KeyQ:()=>{this.direction?this.$refs.board.$refs.RollUnder.click():this.$refs.board.$refs.RollOver.click()},KeyW:()=>{this.isLocked||this.autobet.started||(this.changePrediction(this.prediction-1),this.hotkeyPrediction++)},KeyE:()=>{this.isLocked||this.autobet.started||(this.changePrediction(this.prediction+1),this.hotkeyPrediction++)},KeyA:()=>{this.$refs.amount.$refs.min.click()},KeyS:()=>{this.$refs.amount.$refs.half.click()},KeyD:()=>{this.$refs.amount.$refs.double.click()}}}},computed:{autobet(){return this.$store.getters["autobets/getAutoBet"]},houseEdge(){return this.response.config.houseEdge},profit(){return this.betAmount*this.multiplier},chance(){return this.direction?99-this.prediction:this.prediction},multiplier(){return Math.floor(this.houseEdge/(this.direction?99-this.prediction:this.prediction)*1e4)/1e4},result(){return this.direction?this.luckyNumber>this.prediction:this.luckyNumber<this.prediction},isAuto(){return this.$store.getters["inhouseGame/getAuto"]()}},watch:{response:{immediate:!0,async handler(){this.jackpotStage=this.response.jackpot,this.jackpotSize=this.response.jackpotSize,this.isAuto&&this.$store.state.autobets.started&&this.placeBet(),this.isMobile||this.creatLastBets()}},"$store.state.user.connection_error"(t){t&&(this.stopAnimation(!0),this.isLocked=!1)},"$store.state.autobets.started"(t){if(t&&!this.logged&&this.$socket.connected)return this.$store.commit("popups/show",{popup:"LoginRegistration",data:{tab:2}}),void(this.isLocked=!1)}},beforeDestroy(){this.counter=0},methods:{creatLastBets(){const t=this.$store.state.inhouseGame.response.history.my.map(t=>({value:t.randomSeed.substring(0,2),result:!!t.winAmount}));t.length>14&&(t.length=14),this.lastBets=t.reverse()},handleBetClick(){if(this.isAutoStarted)return void this.autobetsStop();const t=this.canBet();this.isAuto&&t&&this.autobetsStart({startBalance:this.balance,startBetAmount:Number(this.betAmount)}),this.isLocked||this.placeBet()},async placeBet(){const t=this.canBet();if(t){this.isLocked=!0,this.sounds.dicePlaceBet.play();try{const t={is_under:!this.direction,prediction:this.prediction,amount:this.betAmount,isFast:this.isFast},e=await this.bet(t);this.roll=e.roll_number,this.id=e._id,this.startAnimation(e)}catch(e){this.$notify({type:"error",title:"Error",text:e}),this.isLocked=!1,this.autobetsStop()}}else this.isLocked=!1},startAnimation:function(t){if(this.isFocus&&!this.isFast){let e=f(this.luckyNumber,this.roll);this.timer=setInterval(()=>{++this.luckyNumber>99&&(this.luckyNumber=0),0===--e&&(clearTimeout(this.timer),this.timer=null,this.endBet(t))},this.defaultDelay/e)}else a["d"](()=>{this.endBet(t)},this.isFast?this.fastDelay:this.defaultDelay)},endBet(t){this.stopAnimation(),this.isAuto&&(this.autobetsUpdate({winAmount:Number(t.winAmount)}),this.betAmount=this.nextBetAmount()),this.isAutoStarted&&this.placeBet()},stopAnimation(t=!1){0!==this.counter&&(this.counter=1),this.luckyNumber=this.roll,this.isLocked=t,this.result?this.sounds.diceWin.play():this.sounds.diceLosing.play()},changePrediction(t){this.prediction=t,this.betAmount>this.max&&(this.betAmount=this.max)},changeDirection(t){this.sounds.simpleClick.play(),this.direction=t}},sockets:{async dicebethistory(t){await this.$sleep(this.isFast?this.fastDelay:this.defaultDelay),t.user.name===this.$store.state.user.username&&(this.lastBets.push({value:t.randomSeed.substring(0,2),result:!!t.winAmount}),this.lastBets.length>14&&this.lastBets.unshift())},"games.dice.info"(t){null!=t.jackpotSize&&(this.jackpotSize=t.jackpotSize),null!=t.jackpot&&(this.jackpotStage=t.jackpot)},dicewinjackpot(t){t.jackpot.user.username===this.$store.state.user.username&&this.$store.commit("popups/show",{popup:"winjackpot",data:{game:"Dice",...t}})}}},g=y,v=(s("9ef9"),Object(h["a"])(g,i,n,!1,null,"38959132",null));e["default"]=v.exports},"14e7":function(t,e,s){},"41cf":function(t,e,s){"use strict";s.d(e,"a",(function(){return d})),s.d(e,"b",(function(){return h})),s.d(e,"c",(function(){return m})),s.d(e,"d",(function(){return p}));var i=s("7c5c");const n=t=>void 0!==t.method&&"call"===t.method,o=t=>null===t.error&&"number"===typeof t.id,r=t=>{const e=new Map([[0,()=>{}]]),s=new Map([[0,()=>{}]]),r=new Map,a=new Worker(t);a.addEventListener("message",({data:t})=>{if(n(t)){const{params:{timerId:i,timerType:n}}=t;if("interval"===n){const t=e.get(i);if("number"===typeof t){const e=r.get(t);if(void 0===e||e.timerId!==i||e.timerType!==n)throw new Error("The timer is in an undefined state.")}else{if("undefined"===typeof t)throw new Error("The timer is in an undefined state.");t()}}else if("timeout"===n){const t=s.get(i);if("number"===typeof t){const e=r.get(t);if(void 0===e||e.timerId!==i||e.timerType!==n)throw new Error("The timer is in an undefined state.")}else{if("undefined"===typeof t)throw new Error("The timer is in an undefined state.");t(),s.delete(i)}}}else{if(!o(t)){const{error:{message:e}}=t;throw new Error(e)}{const{id:i}=t,n=r.get(i);if(void 0===n)throw new Error("The timer is in an undefined state.");const{timerId:o,timerType:a}=n;r.delete(i),"interval"===a?e.delete(o):s.delete(o)}}});const c=t=>{const s=Object(i["generateUniqueNumber"])(r);r.set(s,{timerId:t,timerType:"interval"}),e.set(t,s),a.postMessage({id:s,method:"clear",params:{timerId:t,timerType:"interval"}})},u=t=>{const e=Object(i["generateUniqueNumber"])(r);r.set(e,{timerId:t,timerType:"timeout"}),s.set(t,e),a.postMessage({id:e,method:"clear",params:{timerId:t,timerType:"timeout"}})},l=(t,s)=>{const n=Object(i["generateUniqueNumber"])(e);return e.set(n,()=>{t(),"function"===typeof e.get(n)&&a.postMessage({id:null,method:"set",params:{delay:s,now:performance.now(),timerId:n,timerType:"interval"}})}),a.postMessage({id:null,method:"set",params:{delay:s,now:performance.now(),timerId:n,timerType:"interval"}}),n},d=(t,e)=>{const n=Object(i["generateUniqueNumber"])(s);return s.set(n,t),a.postMessage({id:null,method:"set",params:{delay:e,now:performance.now(),timerId:n,timerType:"timeout"}}),n};return{clearInterval:c,clearTimeout:u,setInterval:l,setTimeout:d}};let a=null;const c=(t,e)=>()=>{if(null!==a)return a;const s=new Blob([e],{type:"application/javascript; charset=utf-8"}),i=URL.createObjectURL(s);return a=t(i),a.setTimeout(()=>URL.revokeObjectURL(i),0),a},u='(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(({data:i})=>{try{if("clear"===i.method){const{id:r,params:{timerId:o,timerType:s}}=i;if("interval"===s)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==s)throw new Error(\'The given type "\'.concat(s,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==i.method)throw new Error(\'The given method "\'.concat(i.method,\'" is not supported\'));{const{params:{delay:s,now:n,timerId:a,timerType:d}}=i;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(s,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(s,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:i.id,result:null})}}))})();',l=c(r,u),d=t=>l().clearInterval(t),h=t=>l().clearTimeout(t),m=(t,e)=>l().setInterval(t,e),p=(t,e)=>l().setTimeout(t,e)},56757:function(t,e,s){},"7c5c":function(t,e,s){(function(t,s){s(e)})(0,(function(t){"use strict";var e=function(t){return function(e){var s=t(e);return e.add(s),s}},s=function(t){return function(e,s){return t.set(e,s),s}},i=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,n=536870912,o=2*n,r=function(t,e){return function(s){var r=e.get(s),a=void 0===r?s.size:r<o?r+1:0;if(!s.has(a))return t(s,a);if(s.size<n){while(s.has(a))a=Math.floor(Math.random()*o);return t(s,a)}if(s.size>i)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");while(s.has(a))a=Math.floor(Math.random()*i);return t(s,a)}},a=new WeakMap,c=s(a),u=r(c,a),l=e(u);t.addUniqueNumber=l,t.generateUniqueNumber=u,Object.defineProperty(t,"__esModule",{value:!0})}))},8328:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"game-board"},[s("div",{staticClass:"board",class:[t.result?"in":"out"]},[s("div",{staticClass:"board__left"},[s("div",{staticClass:"block-prediction"},[s("span",[t._v(t._s(String(t.prediction).padStart(2,"0")))]),s("span",[t._v(t._s(t.$t("Prediction")))])])]),t.isResult?t._e():s("div",{staticClass:"board__center"},[s("RollingDice",{style:"animation-duration: "+(t.isLocked?2:50)+"s"})],1),s("div",{staticClass:"board__right"},[s("div",{staticClass:"block-luckynumber"},[s("span",[t._v(t._s(String(t.luckyNumber).padStart(2,"0")))]),s("span",[t._v(t._s(t.$t("Lucky Number")))])])])]),s("div",{staticClass:"controls",class:{result:t.isResult}},[t.isResult?t._e():s("button",{ref:"RollUnder",staticClass:"controls__left btn btn_large",class:[{active:0===t.direction},0===t.direction?"btn_blue":"btn_red"],attrs:{disabled:t.isLocked},on:{click:function(e){return t.$emit("on-change-direction",0)}}},[s("span",[t._v(t._s(t.$t("Roll under")))])]),s("div",{staticClass:"controls__prediction"},[s("span",[t._v(t._s(t.$t("Multiplier")))]),s("span",[t._v("x"+t._s(t.multiplier.toFixed(4)))])]),s("div",{staticClass:"controls__chance"},[s("span",[t._v(t._s(t.$t("Chance to win")))]),s("span",[t._v(t._s(t.chance)+"%")])]),t.isResult?t._e():s("button",{ref:"RollOver",staticClass:"controls__right btn btn_large",class:[{active:1===t.direction},1===t.direction?"btn_blue":"btn_red"],attrs:{disabled:t.isLocked},on:{click:function(e){return t.$emit("on-change-direction",1)}}},[s("span",[t._v(t._s(t.$t("Roll over")))])])]),s("div",{staticClass:"slider"},[s("RangeSlider",{attrs:{"on-change":function(e){return t.$emit("on-change-prediction",e)},direction:t.direction,prediction:t.prediction,disabled:t.isLocked,hotkeyPrediction:t.hotkeyPrediction}})],1)])},n=[],o={name:"DiceBoard",props:{hotkeyPrediction:{type:Number,default:0},isResult:{type:Boolean,default:!1},result:{type:Boolean},prediction:{type:Number},luckyNumber:{type:Number},isLocked:{type:Boolean},direction:{type:Number},multiplier:{type:Number},chance:{type:Number}},components:{RollingDice:()=>s.e("chunk-9d5d8620").then(s.bind(null,"708b")),RangeSlider:()=>s.e("chunk-39c114df").then(s.bind(null,"a651"))}},r=o,a=(s("b2b3"),s("2877")),c=Object(a["a"])(r,i,n,!1,null,"87b6cfb4",null);e["default"]=c.exports},9108:function(t,e,s){"use strict";var i=s("99b2"),n=s("2f62");const o={watch:{"$store.state.user.currentCurrency"(){this.setDefaultBet(),this.isAutoStarted&&this.$store.commit("autobets/stop")},"$store.state.ui.readyState":{immediate:!0,handler(t){if("complete"===t)for(const e in this.sounds)this.sounds[e].load()}},"$store.state.user.count_reconnecting"(){this.isEmmit=!1},isAuto(t){t||this.$store.commit("autobets/stop")},logged(t){t&&this.setDefaultBet()}},mounted(){this.$store.commit("inhouseGame/currTab",0),"BetSector"!==this.$options.name&&(this.$store.commit("inhouseGame/hasHotkey",null!=this.keymap),this.$store.commit("inhouseGame/hasFast",null!=this.fastDelay)),this.setDefaultBet(),this.keymap&&document.addEventListener("keydown",this.onKeyDown)},destroyed(){this.keymap&&document.removeEventListener("keydown",this.onKeyDown);for(const t in this.sounds)this.sounds[t].stop();this.autobetsReset()},computed:{betAmount:{get:function(){return this.getBetAmount()(this.sector)},set:function(t){this.setBetAmount({amount:t,sector:this.sector})}},game(){return this.$store.state.inhouseGame.game},currTab(){return this.$store.state.inhouseGame.currTab},isFast(){return this.$store.state.inhouseGame.isFast},isFocus(){return this.$store.state.ui.focus},minBet(){return this.$store.state.ui.inpNumberConfig.minBet},min(){const{minBet:t,balance:e}=this;return Math.min(t,e).toFixed(8).substring(0,10)},max(){const{game:t}=this;let e=null;switch(t){case"dice":switch(this.chance){case 1:e=this.response.config[this.currency].maxBets[1];break;case 2:e=this.response.config[this.currency].maxBets[2];break;case 3:e=this.response.config[this.currency].maxBets[3];break;default:e=this.response.config[this.currency].maxBets["default"];break}break;case"plinko":e={...this.response.config[this.currency].maxBets};break;case"circle":{const t=["gray","red","green","yellow"],{sectors:s}=this.response.config[this.currency];e={},Object.keys(s).forEach(i=>{e[t.indexOf(i)]=s[i].maxBetAmount})}break;default:e=this.response.config[this.currency].maxBets;break}if("object"===typeof e)for(let s in e)e[s]=this.balance>e[s]?e[s]:this.balance;else e=this.balance>e?e:this.balance;return e},currency(){return this.$store.state.user.currentCurrency},balance(){return this.$toFixed(this.$store.state.user.balance.game[this.currency],8)},isAutoStarted(){return this.$store.state.autobets.started},isEmmit(){return this.$store.state.inhouseGame.isEmmit},userId(){return this.$store.state.user.id},isOnline(){return this.$store.state.ui.isOnline},response(){return this.$store.state.inhouseGame.response}},methods:{...Object(n["d"])({setBetAmount:"inhouseGame/setBetAmount",autobetsStop:"autobets/stop",autobetsReset:"autobets/reset",toggleAuto:"inhouseGame/toggleAuto"}),...Object(n["b"])({bet:"inhouseGame/bet",autobetsStart:"autobets/start",autobetsUpdate:"autobets/update"}),...Object(n["c"])({nextBetAmount:"autobets/getNextBetAmount",getBetAmount:"inhouseGame/getBetAmount"}),updateBetAmount(t){i["C"].play();const{max:e,min:s,sector:n}=this;this.$store.commit("inhouseGame/updateBetAmount",{multiplier:t,gameMax:e,gameMin:s,sector:n})},setDefaultBet(){const{sector:t}=this;this.$store.dispatch("inhouseGame/setDefaultBetAmount",{sector:t})},onKeyDown(t){this.$store.state.inhouseGame.isHotkeys&&""===this.$store.state.popups.popup&&!this.$store.state.ui.anyInputFocus&&this.keymap.hasOwnProperty(t.code)&&(this.keymap[t.code](),t.preventDefault())},canBet(){return!this.logged&&this.$socket.connected?(this.$store.commit("popups/show",{popup:"LoginRegistration",data:{tab:2}}),!1):this.$store.state.user.connection_error?(this.$notify({type:"error",title:"Error",text:"Error connection"}),!1):Number(this.balance)<this.minBet||this.betAmount>Number(this.balance)?(this.$store.commit("popups/show",{popup:"DepositWithdrawPopup",data:{tab:0}}),!1):this.betAmount>this.max?(this.$notify({type:"error",title:"Error",text:"Your bet is higher available max bet"}),!1):!(this.betAmount<this.minBet)||(this.$notify({type:"error",title:"Error",text:"Your bet is lower minimum available bet"}),!1)}}};e["a"]=o},"9ef9":function(t,e,s){"use strict";s("56757")},b2b3:function(t,e,s){"use strict";s("e4c8")},e433:function(t,e,s){t.exports=s.p+"img/jackpot.30d9806b.png"},e4c8:function(t,e,s){}}]);